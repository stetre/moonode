<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Stefano Trettel">
<title>MoonODE Reference Manual</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #003b6b; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #00579e; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Arial, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Arial, sans-serif; font-weight: normal; font-style: normal; color: #7b2d00; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #ff6b15; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; color: #003426; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Arial, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #e15200; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #e15200; }

blockquote, blockquote p { line-height: 1.6; color: #333333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: -webkit-linear-gradient(top, #add386, #90b66a); font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: white; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #edf2f2; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 3px 2px 1px 2px; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; }

pre, pre > code { line-height: 1.6; color: black; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

.keyseq { color: #333333; }

kbd { display: inline-block; color: black; font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: black; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: #7b2d00; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #e15200; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: #7b2d00; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Arial, sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #003b6b; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: white; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 0 solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #7b2d00; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #622400; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: #7b2d00; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #e15200; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #003b6b; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px dashed #666666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #003b6b; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #e15200; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: #e15200; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: -webkit-linear-gradient(top, #add386, #90b66a); }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: white; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1em; font-size: 0.85em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { width: 1em; position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.375em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #004176; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #dddddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eeeeee; }

</style>
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #ffffff; }
.listingblock .pygments .tok-c { color: #aaaaaa; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { color: #FF0000; background-color: #FFAAAA } /* Error */
.listingblock .pygments .tok-k { color: #0000aa } /* Keyword */
.listingblock .pygments .tok-ch { color: #aaaaaa; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #aaaaaa; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #4c8317 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #aaaaaa; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #aaaaaa; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #0000aa; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #aa0000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #aa0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00aa00 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #555555 } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #aa0000 } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #0000aa } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #0000aa } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #0000aa } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #0000aa } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #0000aa } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #00aaaa } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #009999 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #aa5500 } /* Literal.String */
.listingblock .pygments .tok-na { color: #1e90ff } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #00aaaa } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #00aa00; text-decoration: underline } /* Name.Class */
.listingblock .pygments .tok-no { color: #aa0000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #888888 } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #880000; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-nf { color: #00aa00 } /* Name.Function */
.listingblock .pygments .tok-nn { color: #00aaaa; text-decoration: underline } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #1e90ff; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #aa0000 } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #0000aa } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #009999 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #009999 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #009999 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #009999 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #009999 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #aa5500 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #aa5500 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #aa5500 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #aa5500 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #aa5500 } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #aa5500 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #aa5500 } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #aa5500 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #aa5500 } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #aa5500 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #009999 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #aa5500 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #0000aa } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #00aaaa } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #00aa00 } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #aa0000 } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #aa0000 } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #aa0000 } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #aa0000 } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #009999 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>MoonODE Reference Manual</h1>
<div class="details">
<span id="author" class="author">Stefano Trettel</span><br>
<span id="revnumber">version 0.1,</span>
<span id="revdate">2021-09-23</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#_getting_and_installing">Getting and installing</a></li>
<li><a href="#_module_organization">Module organization</a></li>
<li><a href="#_examples">Examples</a></li>
<li><a href="#_license">License</a></li>
<li><a href="#see-also">See also</a></li>
</ul>
</li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_objects">Objects</a></li>
<li><a href="#_rigid_bodies">Rigid bodies</a>
<ul class="sectlevel2">
<li><a href="#world"><em>world</em></a></li>
<li><a href="#body"><em>body</em></a></li>
<li><a href="#joint"><em>joint</em></a></li>
</ul>
</li>
<li><a href="#collision">Collision detection</a>
<ul class="sectlevel2">
<li><a href="#geom"><em>geom</em></a></li>
<li><a href="#space"><em>space</em></a></li>
</ul>
</li>
<li><a href="#massfun">Mass functions</a></li>
<li><a href="#mathfun">Math functions</a></li>
<li><a href="#randomfun">Random functions</a></li>
<li><a href="#tracing">Time and tracing functions</a></li>
<li><a href="#datatypes">Data types</a></li>
<li><a href="#glmath_compat">GLMATH compatibility</a></li>
<li><a href="#datahandling">Data handling</a></li>
<li><a href="#enums">Enums</a></li>
<li><a href="#flags">Flags</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<a class="image" href="http://www.lua.org"><img src="powered-by-lua.gif" alt="Lua logo"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface">Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the reference manual of <strong>MoonODE</strong>, which is a
<a href="https://www.lua.org"><strong>Lua</strong></a> binding library for
<a href="https://www.ode.org"><strong>Open Dynamics Engine (ODE)</strong></a>,
the high performance library for simulating rigid body dynamics developed by Russ Smith.
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="paragraph">
<p>It is assumed that the reader is familiar with both ODE and the Lua programming language.</p>
</div>
<div class="paragraph">
<p>For convenience of reference, this document contains external (deep) links to the
<a href="https://www.lua.org/manual/5.3/manual.html">Lua Reference Manual</a> and the
<a href="https://www.ode.org/wiki">ODE Wiki</a>.</p>
</div>
<div class="sect2">
<h3 id="_getting_and_installing">Getting and installing</h3>
<div class="paragraph">
<p>For installation intructions, refer to the README file in the
<a href="https://github.com/stetre/moonode"><strong>MoonODE official repository</strong></a>
on GitHub.</p>
</div>
</div>
<div class="sect2">
<h3 id="_module_organization">Module organization</h3>
<div class="paragraph">
<p>The MoonODE module is loaded using Lua&#8217;s
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-require">require</a>() and
returns a table containing the functions it provides
(as usual with Lua modules). This manual assumes that such
table is named <strong>ode</strong>, i.e. that it is loaded with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="lua"> <span class="tok-n">ode</span> <span class="tok-o">=</span> <span class="tok-nb">require</span><span class="tok-p">(</span><span class="tok-s2">&quot;moonode&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>but nothing forbids the use of a different name.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples">Examples</h3>
<div class="paragraph">
<p>Complete examples can be found in the <strong>examples/</strong> directory of the release package.</p>
</div>
</div>
<div class="sect2">
<h3 id="_license">License</h3>
<div class="paragraph">
<p>MoonODE is released under the <strong>MIT/X11 license</strong> (same as
<a href="http://www.lua.org/license.html">Lua</a>, and with the same only requirement to give proper
credits to the original author).
The copyright notice is in the LICENSE file in the base directory
of the <a href="https://github.com/stetre/moonode">official repository</a> on GitHub.</p>
</div>
</div>
<div class="sect2">
<h3 id="see-also">See also</h3>
<div class="paragraph">
<p>MoonODE is part of <a href="https://github.com/stetre/moonlibs">MoonLibs</a>, a collection of
Lua libraries for graphics and audio programming.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MoonODE is an almost one-to-one Lua binding library to the Open Dynamic Engine (ODE).
This means that, by and large, it is intended to be used as described in the
<a href="http://ode.org/wiki/index.php?title=Manual">ODE Manual</a> (apart from coding in Lua, of course).</p>
</div>
<div class="paragraph">
<p>This section gives a brief overview of the binding library, while the details are given
in the sections that follow.</p>
</div>
<div class="paragraph">
<p>MoonODE binds ODE <strong>objects</strong> (<em>world</em>, <em>body</em>, etc.) to Lua userdata, which are
returned by the creating functions (<em>ode.create_world</em>(&nbsp;), <em>ode.create_body</em>(&nbsp;), etc) and are then used to refer to objects in Lua in the same way as one would use ODE handles in C.</p>
</div>
<div class="paragraph">
<p>As a general rule, ODE functions are bound to MoonODE functions or methods
whose names are (more or less) <a href="https://en.wikipedia.org/wiki/Snake_case">snake_case</a> versions of the original ones.</p>
</div>
<div class="paragraph">
<p>The functions related to an object type - with the exception of the creating function - are
bounded to methods of that object. For example, the C function <em>dBodySetPosition(body,&#8230;&#8203;)</em> becomes the method <em>body:set_position(&#8230;&#8203;)</em> in Lua.</p>
</div>
<div class="paragraph">
<p>Objects are <strong>garbage collected at exit</strong> (which includes on error), and automatically
deleted at the ODE, so there is no need to explicitly invoke their <em>free</em>(&nbsp;) methods at exit for cleanup.</p>
</div>
<div class="paragraph">
<p>Apart from at exit, however, objects are not automatically garbage collected
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup>
and one must release them explicitly when needed, e.g. to release resources when the
application is not exiting and some objects are no longer needed.</p>
</div>
<div class="paragraph">
<p>Releasing an object causes the automatic (pre) destruction of all its children
objects, and the invalidation of any reference to the object and to its children.
<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</sup></p>
</div>
<div class="paragraph">
<p>If not stated otherwise, <strong>on error</strong> all MoonODE functions raise a
<a href="http://www.lua.org/manual/5.3/manual.html#lua_error">Lua error</a>.
If needed, this behaviour can be overridden by wrapping function calls in the standard Lua
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-pcall">pcall</a>(&nbsp;).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_objects">Objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Listed below are the Lua object types in MoonODE, together with the corresponding
original types in ODE:</p>
</div>
<div class="paragraph">
<p><span class="small">Objects:<br>
<a href="#world"><strong>world</strong></a> <em>(dWorldID)</em><br>
<a href="#body"><strong>body</strong></a> <em>(dBodyID)</em><br>
<a href="#joint"><strong>joint</strong></a> <em>(dJointID)</em><br>
&#9500;&#9472;&#8192;<a href="#joint_null">joint_null</a><br>
&#9500;&#9472;&#8192;<a href="#joint_contact">joint_contact</a><br>
&#9500;&#9472;&#8192;<a href="#joint_ball">joint_ball</a><br>
&#9500;&#9472;&#8192;<a href="#joint_hinge">joint_hinge</a><br>
&#9500;&#9472;&#8192;<a href="#joint_slider">joint_slider</a><br>
&#9500;&#9472;&#8192;<a href="#joint_hinge2">joint_hinge2</a><br>
&#9500;&#9472;&#8192;<a href="#joint_universal">joint_universal</a><br>
&#9500;&#9472;&#8192;<a href="#joint_pr">joint_pr</a><br>
&#9500;&#9472;&#8192;<a href="#joint_pu">joint_pu</a><br>
&#9500;&#9472;&#8192;<a href="#joint_piston">joint_piston</a><br>
&#9500;&#9472;&#8192;<a href="#joint_fixed">joint_fixed</a><br>
&#9500;&#9472;&#8192;<a href="#joint_amotor">joint_amotor</a><br>
&#9500;&#9472;&#8192;<a href="#joint_lmotor">joint_lmotor</a><br>
&#9500;&#9472;&#8192;<a href="#joint_plane2d">joint_plane2d</a><br>
&#9500;&#9472;&#8192;<a href="#joint_dball">joint_dball</a><br>
&#9500;&#9472;&#8192;<a href="#joint_dhinge">joint_dhinge</a><br>
&#9492;&#9472;&#8192;<a href="#joint_transmission">joint_transmission</a><br>
<a href="#geom"><strong>geom</strong></a> <em>(dGeomID)</em><br>
&#9500;&#9472;&#8192;<a href="#geom_sphere">geom_sphere</a><br>
&#9500;&#9472;&#8192;<a href="#geom_box">geom_box</a><br>
&#9500;&#9472;&#8192;<a href="#geom_plane">geom_plane</a><br>
&#9500;&#9472;&#8192;<a href="#geom_capsule">geom_capsule</a><br>
&#9500;&#9472;&#8192;<a href="#geom_cylinder">geom_cylinder</a><br>
&#9500;&#9472;&#8192;<a href="#geom_ray">geom_ray</a><br>
&#9500;&#9472;&#8192;<a href="#geom_convex">geom_convex</a><br>
&#9500;&#9472;&#8192;<a href="#geom_trimesh">geom_trimesh</a><br>
&#9492;&#9472;&#8192;<a href="#geom_heightfield">geom_heightfield</a><br>
<a href="#tmdata">tmdata</a> <em>(dTriMeshDataID)</em><br>
<a href="#hfdata">hfdata</a> <em>(dHeightfieldDataID)</em><br>
<a href="#space"><strong>space</strong></a> <em>(dSpaceID)</em><br>
&#9500;&#9472;&#8192;<a href="#space_simple">space_simple</a><br>
&#9500;&#9472;&#8192;<a href="#space_hash">space_hash</a><br>
&#9500;&#9472;&#8192;<a href="#space_quadtree">space_quadtree</a><br>
&#9492;&#9472;&#8192;<a href="#space_sap">space_sap</a></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rigid_bodies">Rigid bodies</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Background">Background</a>.</span></p>
</div>
<div class="paragraph">
<p>An object of the <a href="#body"><em>body</em></a> type represents a <strong>rigid body</strong> with its properties relevant to
the simulation, such as mass, position, orientation, velocity, etc.
Rigid bodies may be connected by <strong>joints</strong> of different kinds, which are represented by objects of <a href="#joint"><em>joint</em></a> subtypes.
A <strong>world</strong>, represented by the <a href="#world"><em>world</em></a> type, is a container for rigid bodies and joints.
Rigid bodies in different worlds cannot interact, e.g. they can not be joined together nor collide with each other. An application would usually only need one world.</p>
</div>
<div class="sect2">
<h3 id="world"><em>world</em></h3>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#World">World</a>.</span></p>
</div>
<div id="create_world" class="ulist">
<ul>
<li>
<p><em>world</em> = <strong>create_world</strong>( )<br>
<em>world</em>:<strong>destroy</strong>( )<br>
<span class="small">Create/delete a world.</span></p>
</li>
</ul>
</div>
<div id="world_set_gravity" class="ulist">
<ul>
<li>
<p><em>world</em>:<strong>set_gravity</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>world</em>:<strong>get_gravity</strong>( )</p>
</li>
</ul>
</div>
<div id="world_erp_cfm" class="ulist">
<ul>
<li>
<p><em>world</em>:<strong>set_erp</strong>(<em>erp</em>)<br>
<em>world</em>:<strong>set_cfm</strong>(<em>cfm</em>)<br>
<em>erp</em> = <em>world</em>:<strong>get_erp</strong>( )<br>
<em>cfm</em> = <em>world</em>:<strong>get_cfm</strong>( )<br>
<span class="small"><em>erp</em>: float (0 &le; <em>erp</em> &le; 1).<br>
<em>cfm</em>: float (<em>cfm</em> &ge; 0).<br>
Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Joint_error_and_the_Error_Reduction_Parameter_.28ERP.29">Error Reduction Parameter</a> - <a href="http://ode.org/wiki/index.php?title=Manual#Soft_constraint_and_Constraint_Force_Mixing_.28CFM.29">Constraint Force Mixing</a>.</span></p>
</li>
</ul>
</div>
<div id="world_impulse_to_force" class="ulist">
<ul>
<li>
<p><em>force</em> = <em>world</em>:<strong>impulse_to_force</strong>(<em>dt</em>, <em>impulse</em>)<br>
<span class="small"><em>dt</em>: float.<br>
<em>force</em>, <em>impulse</em>: <a href="#vec3">vec3</a>.</span></p>
</li>
</ul>
</div>
<div id="world_step" class="ulist">
<ul>
<li>
<p><em>world</em>:<strong>step</strong>(<em>dt</em>)<br>
<em>world</em>:<strong>quick_step</strong>(<em>dt</em>)<br>
<em>world</em>:<strong>set_quick_step_num_iterations</strong>(<em>integer</em>)<br>
<em>world</em>:<strong>set_quick_step_w</strong>(<em>float</em>)<br>
<em>integer</em> = <em>world</em>:<strong>get_quick_step_num_iterations</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_quick_step_w</strong>( )<br>
<span class="small"><em>dt</em>: float.<br>
Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Stepping_Functions">Stepping Functions</a>.</span></p>
</li>
</ul>
</div>
<div id="world_set_auto_disable_flag" class="ulist">
<ul>
<li>
<p><em>world</em>:<strong>set_auto_disable_flag</strong>(<em>boolean</em>)<br>
<em>world</em>:<strong>set_auto_disable_linear_threshold</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_auto_disable_angular_threshold</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_auto_disable_steps</strong>(<em>integer</em>)<br>
<em>world</em>:<strong>set_auto_disable_time</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_auto_disable_average_samples_count</strong>(<em>integer</em>)<br>
<em>boolean</em> = <em>world</em>:<strong>get_auto_disable_flag</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_auto_disable_linear_threshold</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_auto_disable_angular_threshold</strong>( )<br>
<em>integer</em> = <em>world</em>:<strong>get_auto_disable_steps</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_auto_disable_time</strong>( )<br>
<em>integer</em> = <em>world</em>:<strong>get_auto_disable_average_samples_count</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Automatic_Enabling_and_Disabling">Automatic Enabling and Disabling</a>.</span></p>
</li>
</ul>
</div>
<div id="world_damping" class="ulist">
<ul>
<li>
<p><em>world</em>:<strong>set_linear_damping_threshold</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_angular_damping_threshold</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_linear_damping</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_angular_damping</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_damping</strong>(<em>float<sub>lin</sub></em>, <em>float<sub>ang</sub></em>)<br>
<em>world</em>:<strong>set_max_angular_speed</strong>(<em>float</em>)<br>
<em>float</em> = <em>world</em>:<strong>get_linear_damping_threshold</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_angular_damping_threshold</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_linear_damping</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_angular_damping</strong>( )<br>
<em>float<sub>lin</sub></em>, <em>float<sub>ang</sub></em> = <em>world</em>:<strong>get_damping</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_max_angular_speed</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Damping_2">Damping</a>.</span></p>
</li>
</ul>
</div>
<div id="world_contact" class="ulist">
<ul>
<li>
<p><em>world</em>:<strong>set_contact_max_correcting_vel</strong>(<em>float</em>)<br>
<em>world</em>:<strong>set_contact_surface_layer</strong>(<em>float</em>)<br>
<em>float</em> = <em>world</em>:<strong>get_contact_max_correcting_vel</strong>( )<br>
<em>float</em> = <em>world</em>:<strong>get_contact_surface_layer</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Contact_Parameters">Contact Parameters</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="body"><em>body</em></h3>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Rigid_bodies">Rigid bodies</a> -
<a href="http://ode.org/wiki/index.php?title=Manual#Rigid_Body_Functions">Rigid body functions</a>.</span></p>
</div>
<div id="create_body" class="ulist">
<ul>
<li>
<p><em>body</em> = <strong>create_body</strong>(<a href="#world"><em>world</em></a>)<br>
<em>body</em>:<strong>destroy</strong>( )<br>
<span class="small">Create/delete a body.</span></p>
</li>
</ul>
</div>
<div id="body_set_position" class="ulist">
<ul>
<li>
<p><em>body</em>:<strong>set_position</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>set_rotation</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<em>body</em>:<strong>set_quaternion</strong>(<a href="#quat"><em>quat</em></a>)<br>
<em>body</em>:<strong>set_linear_vel</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>set_angular_vel</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_position</strong>( )<br>
<a href="#mat3"><em>mat3</em></a> = <em>body</em>:<strong>get_rotation</strong>( )<br>
<a href="#quat"><em>quat</em></a> = <em>body</em>:<strong>get_quaternion</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_linear_vel</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_angular_vel</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Position_and_orientation">Position and orientation</a>.</span></p>
</li>
</ul>
</div>
<div id="body_set_mass" class="ulist">
<ul>
<li>
<p><em>body</em>:<strong>set_mass</strong>( <a href="#mass"><em>mass</em></a>)<br>
<em>body</em>:<strong>add_force</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>add_torque</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>add_rel_force</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>add_rel_torque</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>add_force_at_pos</strong>(<a href="#vec3"><em>vec3</em></a>, <em><a href="#vec3">vec3</a><sub>pos</sub></em>)<br>
<em>body</em>:<strong>add_force_at_rel_pos</strong>(<a href="#vec3"><em>vec3</em></a>, <em><a href="#vec3">vec3</a><sub>pos</sub></em>)<br>
<em>body</em>:<strong>add_rel_force_at_pos</strong>(<a href="#vec3"><em>vec3</em></a>, <em><a href="#vec3">vec3</a><sub>pos</sub></em>)<br>
<em>body</em>:<strong>add_rel_force_at_rel_pos</strong>(<a href="#vec3"><em>vec3</em></a>, <em><a href="#vec3">vec3</a><sub>pos</sub></em>)<br>
<em>body</em>:<strong>set_force</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>set_torque</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#mass"><em>mass</em></a> = <em>body</em>:<strong>get_mass</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_force</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_torque</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Mass_and_force">Mass and force</a>.</span></p>
</li>
</ul>
</div>
<div id="body_set_dynamic" class="ulist">
<ul>
<li>
<p><em>body</em>:<strong>set_dynamic</strong>( )<br>
<em>body</em>:<strong>set_kinematic</strong>( )<br>
<em>boolean</em> = <em>body</em>:<strong>is_kinematic</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Kinematic_State">Kinematic State</a>.</span></p>
</li>
</ul>
</div>
<div id="body_get_rel_point_pos" class="ulist">
<ul>
<li>
<p><a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_rel_point_pos</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_rel_point_vel</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_point_vel</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_pos_rel_point</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>vector_to_world</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>vector_from_world</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Utility">Utility</a>.</span></p>
</li>
</ul>
</div>
<div id="body_enable" class="ulist">
<ul>
<li>
<p><em>body</em>:<strong>enable</strong>( )<br>
<em>body</em>:<strong>disable</strong>( )<br>
<em>boolean</em> = <em>body</em>:<strong>is_enabled</strong>( )<br>
<em>body</em>:<strong>set_auto_disable_defaults</strong>( )<br>
<em>body</em>:<strong>set_auto_disable_flag</strong>(<em>boolean</em>)<br>
<em>body</em>:<strong>set_auto_disable_linear_threshold</strong>(<em>float</em>)<br>
<em>body</em>:<strong>set_auto_disable_angular_threshold</strong>(<em>float</em>)<br>
<em>body</em>:<strong>set_auto_disable_steps</strong>(<em>integer</em>)<br>
<em>body</em>:<strong>set_auto_disable_time</strong>(<em>float</em>)<br>
<em>body</em>:<strong>set_auto_disable_average_samples_count</strong>(<em>integer</em>)<br>
<em>boolean</em> = <em>body</em>:<strong>get_auto_disable_flag</strong>( )<br>
<em>float</em> = <em>body</em>:<strong>get_auto_disable_linear_threshold</strong>( )<br>
<em>float</em> = <em>body</em>:<strong>get_auto_disable_angular_threshold</strong>( )<br>
<em>integer</em> = <em>body</em>:<strong>get_auto_disable_steps</strong>( )<br>
<em>float</em> = <em>body</em>:<strong>get_auto_disable_time</strong>( )<br>
<em>integer</em> = <em>body</em>:<strong>get_auto_disable_average_samples_count</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Automatic_Enabling_and_Disabling">Automatic Enabling and Disabling</a>.</span></p>
</li>
</ul>
</div>
<div id="body_set_moved_callback" class="ulist">
<ul>
<li>
<p><em>body</em>:<strong>set_moved_callback</strong>([<em>func</em>])<br>
<span class="small">The callback is executed as <strong>func(body)</strong><br>
Passing <em>func=nil</em> removes the callback.</span></p>
</li>
</ul>
</div>
<div id="body_damping" class="ulist">
<ul>
<li>
<p><em>body</em>:<strong>set_damping_defaults</strong>( )<br>
<em>body</em>:<strong>set_linear_damping_threshold</strong>(<em>float</em>)<br>
<em>body</em>:<strong>set_angular_damping_threshold</strong>(<em>float</em>)<br>
<em>body</em>:<strong>set_linear_damping</strong>(<em>float</em>)<br>
<em>body</em>:<strong>set_angular_damping</strong>(<em>float</em>)<br>
<em>body</em>:<strong>set_damping</strong>(<em>float<sub>lin</sub></em>, <em>float<sub>ang</sub></em>)<br>
<em>body</em>:<strong>set_max_angular_speed</strong>(<em>float</em>)<br>
<em>float</em> = <em>body</em>:<strong>get_linear_damping_threshold</strong>( )<br>
<em>float</em> = <em>body</em>:<strong>get_angular_damping_threshold</strong>( )<br>
<em>float</em> = <em>body</em>:<strong>get_linear_damping</strong>( )<br>
<em>float</em> = <em>body</em>:<strong>get_angular_damping</strong>( )<br>
<em>float<sub>lin</sub></em>, <em>float<sub>ang</sub></em> = <em>body</em>:<strong>get_damping</strong>( )<br>
<em>float</em> = <em>body</em>:<strong>get_max_angular_speed</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Damping_2">Damping</a>.</span></p>
</li>
</ul>
</div>
<div id="body_set_finite_rotation_mode" class="ulist">
<ul>
<li>
<p><em>body</em>:<strong>set_finite_rotation_mode</strong>(<em>boolean</em>)<br>
<em>body</em>:<strong>set_finite_rotation_axis</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>body</em>:<strong>set_gravity_mode</strong>(<em>boolean</em>)<br>
<em>body</em>:<strong>set_gyroscopic_mode</strong>(<em>boolean</em>)<br>
<em>boolean</em> = <em>body</em>:<strong>get_finite_rotation_mode</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>body</em>:<strong>get_finite_rotation_axis</strong>( )<br>
<em>boolean</em> = <em>body</em>:<strong>get_gravity_mode</strong>( )<br>
<em>boolean</em> = <em>body</em>:<strong>get_gyroscopic_mode</strong>( )<br>
<a href="#world"><em>world</em></a> = <em>body</em>:<strong>get_world</strong>( )<br>
<em>{<a href="#joint">joint</a>}</em> = <em>body</em>:<strong>get_joints</strong>( )<br>
<em>{<a href="#geom">geom</a>}</em> = <em>body</em>:<strong>get_geoms</strong>( )<br>
<em>integer</em> = <em>body</em>:<strong>get_num_joints</strong>( )<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Miscellaneous_Body_Functions">Miscellaneous Body Functions</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="joint"><em>joint</em></h3>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Joint_and_constraints">Joint and constraints</a> -
<a href="http://ode.org/wiki/index.php?title=Manual#Joint_Types_and_Functions">Joint types and functions</a>.</span></p>
</div>
<div id="create_joint" class="paragraph">
<p>Joints may be of the following subtypes:
<a href="#joint_null"><strong>null</strong></a>,
<a href="#joint_contact"><strong>contact</strong></a>,
<a href="#joint_ball"><strong>ball</strong></a>,
<a href="#joint_hinge"><strong>hinge</strong></a>,
<a href="#joint_slider"><strong>slider</strong></a>,
<a href="#joint_hinge2"><strong>hinge2</strong></a>,
<a href="#joint_universal"><strong>universal</strong></a>,
<a href="#joint_pr"><strong>pr</strong></a>,
<a href="#joint_pu"><strong>pu</strong></a>,
<a href="#joint_piston"><strong>piston</strong></a>,
<a href="#joint_fixed"><strong>fixed</strong></a>,
<a href="#joint_amotor"><strong>amotor</strong></a>,
<a href="#joint_lmotor"><strong>lmotor</strong></a>,
<a href="#joint_plane2d"><strong>plane2d</strong></a>,
<a href="#joint_dball"><strong>dball</strong></a>,
<a href="#joint_dhinge"><strong>dhinge</strong></a>, and
<a href="#joint_transmission"><strong>transmission</strong></a>.</p>
</div>
<div class="paragraph">
<p>Each subtype has its specialized contructors and methods, in addition to the following methods that are common to all subtypes:</p>
</div>
<div id="joint_destroy" class="ulist">
<ul>
<li>
<p><em>joint</em>:<strong>destroy</strong>( )<br>
<a href="#jointtype"><em>jointtype</em></a> = <em>joint</em>:<strong>get_type</strong>( )<br>
<em>joint</em>:<strong>enable</strong>( )<br>
<em>joint</em>:<strong>disable</strong>( )<br>
<em>boolean</em> = <em>joint</em>:<strong>is_enabled</strong>( )<br>
<em>integer</em> = <em>joint</em>:<strong>get_num_bodies</strong>( )<br>
<em>joint</em>:<strong>attach</strong>([<a href="#body"><em>body<sub>1</sub></em></a>], [<a href="#body"><em>body<sub>2</sub></em></a>])<br>
[<a href="#body"><em>body<sub>1</sub></em></a>], [<a href="#body"><em>body<sub>2</sub></em></a>] = <em>joint</em>:<strong>get_bodies</strong>( )<br>
[<a href="#body"><em>body</em></a>] = <em>joint</em>:<strong>get_body1</strong>( )<br>
[<a href="#body"><em>body</em></a>] = <em>joint</em>:<strong>get_body2</strong>( )<br>
<em>joint</em> = <strong>connecting_joint</strong>(<a href="#body"><em>body<sub>1</sub></em></a>, <a href="#body"><em>body<sub>2</sub></em></a>)<br>
<em>{joint}</em> = <strong>connecting_joint_list</strong>(<a href="#body"><em>body<sub>1</sub></em></a>, <a href="#body"><em>body<sub>2</sub></em></a>)<br>
<em>boolean</em> = <strong>are_connected</strong>(<a href="#body"><em>body<sub>1</sub></em></a>, <a href="#body"><em>body<sub>2</sub></em></a>)<br>
<em>boolean</em> = <strong>are_connected_excluding</strong>(<a href="#body"><em>body<sub>1</sub></em></a>, <a href="#body"><em>body<sub>2</sub></em></a>, <a href="#jointtype_"><em>jointtype</em></a>)<br>
<span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Miscellaneous_Joint_Functions">Miscellaneous Joint Functions</a>.</span></p>
</li>
</ul>
</div>
<div id="joint_feedback" class="ulist">
<ul>
<li>
<p><em>joint</em>:<strong>set_feedback</strong>(<em>boolean</em>)<br>
<em>force<sub>1</sub></em>, <em>torque<sub>1</sub></em>, <em>force<sub>2</sub></em>, <em>torque<sub>2</sub></em> = <em>joint</em>:<strong>get_feedback</strong>( )<br>
<span class="small"><em>force<sub>1</sub></em>, <em>torque<sub>1</sub></em>, <em>force<sub>2</sub></em>, <em>torque<sub>2</sub></em>: <a href="#vec3">vec3</a>.<br>
Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Joint_feedback">Joint feedback</a>.</span></p>
</li>
</ul>
</div>
<div id="joint_set_param" class="ulist">
<ul>
<li>
<p><em>joint</em>:<strong>set_param</strong>(<a href="#param"><em>param</em></a>, <em>float</em>, [<em>paramgroup</em>])<br>
<em>float</em> = <em>joint</em>:<strong>get_param</strong>(<a href="#param"><em>param</em></a>, [<em>paramgroup</em>])<br>
<span class="small"><em>paramgroup</em>: 1, 2, or 3 (defaults to 1).<br>
Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Parameter_Functions">Parameter Functions</a>.</span></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="joint_null">joint_null</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_null_joint</strong>(<a href="#world"><em>world</em></a>)<br></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_contact">joint_contact</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Contact">Contact</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_contact_joint</strong>(<a href="#world"><em>world</em></a>, <em>groupid</em>, <a href="#contactpoint"><em>contactpoint</em></a>, [<em>surfparams</em>], [<em>fdir1</em>])<br>
<em>binstring</em> = <strong>pack_surfaceparameters</strong>(<a href="#surfaceparameters"><em>surfaceparameters</em></a>)<br>
<strong>destroy_joint_group</strong>(<em>groupid</em>)<br>
<span class="small"><em>groupid</em>: integer.<br>
<em>surfparams</em>: <em>nil</em> or <a href="#surfaceparameters">surfaceparameters</a> or binstring encoded with <em>pack_surfaceparameters( )</em>.<br>
<em>fdir1</em>: <a href="#vec3">vec3</a> (first friction direction, see <a href="http://ode.org/wiki/index.php?title=Manual#Contact">Contact</a>).</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_ball">joint_ball</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Ball_and_Socket">Ball and Socket</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_ball_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_anchor2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_hinge">joint_hinge</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Hinge">Hinge</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_hinge_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_torque</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle_rate</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_slider">joint_slider</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Slider">Slider</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_slider_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_force</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_axis</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position_rate</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_hinge2">joint_hinge2</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Hinge-2">Hinge-2</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_hinge2_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_torques</strong>(<em>float<sub>1</sub></em>, <em>float<sub>2</sub></em>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1_rate</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2_rate</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_universal">joint_universal</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Universal">Universal</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_universal_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_torques</strong>(<em>float<sub>1</sub></em>, <em>float<sub>2</sub></em>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1_rate</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2_rate</strong>( )<br></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_pr">joint_pr</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Prismatic_and_Rotoide">Prismatic and Rotoide</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_pr_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_torque</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_anchor</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle_rate</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position_rate</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_pu">joint_pu</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Prismatic_-_Universal">Prismatic - Universal</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_pu_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>set_anchor</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis3</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis3</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1_rate</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2_rate</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position_rate</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_piston">joint_piston</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Piston">Piston</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_piston_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_force</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle_rate</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_position_rate</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_fixed">joint_fixed</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Fixed">Fixed</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_fixed_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>set</strong>( )<br></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_amotor">joint_amotor</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Angular_Motor">Angular Motor</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_amotor_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_torques</strong>(<em>float<sub>1</sub></em> [, <em>float<sub>2</sub></em>, <em>float<sub>3</sub></em>])<br>
<em>joint</em>:<strong>set_mode</strong>(<a href="#amotormode"><em>amotormode</em></a>)<br>
<em>joint</em>:<strong>set_num_axes</strong>(<em>numaxes</em>)<br>
<em>joint</em>:<strong>set_axis1</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a>)<br>
<em>joint</em>:<strong>set_axis2</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a>)<br>
<em>joint</em>:<strong>set_axis3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a>)<br>
<em>joint</em>:<strong>set_angle1</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_angle2</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_angle3</strong>(<em>float</em>)<br>
<a href="#amotormode"><em>amotormode</em></a> = <em>joint</em>:<strong>get_mode</strong>( )<br>
<em>numaxes</em> = <em>joint</em>:<strong>get_num_axes</strong>( )<br>
<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a> = <em>joint</em>:<strong>get_axis1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a> = <em>joint</em>:<strong>get_axis2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a> = <em>joint</em>:<strong>get_axis3</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle3</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle_rate1</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle_rate2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle_rate3</strong>( )<br>
<span class="small"><em>numaxes</em>: 1, 2, or 3.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_lmotor">joint_lmotor</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Linear_Motor">Linear Motor</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_lmotor_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>add_torques</strong>(<em>float<sub>1</sub></em> [, <em>float<sub>2</sub></em>, <em>float<sub>3</sub></em>])<br>
<em>joint</em>:<strong>set_num_axes</strong>(<em>numaxes</em>)<br>
<em>joint</em>:<strong>set_axis1</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a>)<br>
<em>joint</em>:<strong>set_axis2</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a>)<br>
<em>joint</em>:<strong>set_axis3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#relativeorientation"><em>relativeorientation</em></a>)<br>
<em>numaxes</em> = <em>joint</em>:<strong>get_num_axes</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis3</strong>( )<br>
<span class="small"><em>numaxes</em>: 1, 2, or 3.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_plane2d">joint_plane2d</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Plane_2D">Plane 2D</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_plane2d_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>set_x_param</strong>(<a href="#param"><em>param</em></a>, <em>float</em>, [<em>paramgroup</em>])<br>
<em>joint</em>:<strong>set_y_param</strong>(<a href="#param"><em>param</em></a>, <em>float</em>, [<em>paramgroup</em>])<br>
<em>joint</em>:<strong>set_angle_param</strong>(<a href="#param"><em>param</em></a>, <em>float</em>, [<em>paramgroup</em>])<br>
<span class="small">See <a href="#joint_set_param">set/get_param</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_dball">joint_dball</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Double_Ball_And_Socket">Double Ball And Socket</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_dball_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_anchor2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_distance</strong>(<em>float</em>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_distance</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_dhinge">joint_dhinge</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Double_Hinge">Double Hinge</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_dhinge_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>set_axis</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_anchor2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_distance</strong>(<em>float</em>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_distance</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="joint_transmission">joint_transmission</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Transmission">Transmission</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#joint"><em>joint</em></a> = <strong>create_transmission_joint</strong>(<a href="#world"><em>world</em></a>)<br>
<em>joint</em>:<strong>set_mode</strong>(<a href="#transmissionmode"><em>transmissionmode</em></a>)<br>
<em>joint</em>:<strong>set_axis</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_axis2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_anchor1</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_anchor2</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>joint</em>:<strong>set_radius1</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_radius2</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_ratio</strong>(<em>float</em>)<br>
<em>joint</em>:<strong>set_backlash</strong>(<em>float</em>)<br>
<a href="#transmissionmode"><em>transmissionmode</em></a> = <em>joint</em>:<strong>get_mode</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_axis2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_anchor2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_radius1</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_radius2</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_ratio</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_backlash</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle1</strong>( )<br>
<em>float</em> = <em>joint</em>:<strong>get_angle2</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_contact_point1</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>joint</em>:<strong>get_contact_point2</strong>( )<br></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="collision">Collision detection</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Collision_detection_2">Collision detection</a>.</span></p>
</div>
<div class="paragraph">
<p>Objects of <a href="#geom"><em>geom</em></a> subtypes represent <strong>collision primitives</strong>, i.e. geometric objects of
various shapes and sizes that may collide and interpenetrate during the simulation. Objects of
<a href="#space"><em>space</em></a> subtypes are containers for geoms, whose purpose is to speed up the
collision detection process.</p>
</div>
<div class="paragraph">
<p>Collision detection between a pair of geoms is achieved by calling <a href="#collide">collide</a>(&nbsp;),
which in case of collision returns a list of contact points, each represented by a <a href="#contactpoint"><em>contactpoint</em></a> struct). The application should call this function for each pair of geoms that may potentially
collide.</p>
</div>
<div class="paragraph">
<p>To speed up collision detection when several geoms are used, the best approach is to insert
them in one or more collision spaces, set the <a href="#near_callback">near callback</a>, anf finally call
<a href="#space_collide">space_collide</a>(&nbsp;) or <a href="#space_collide2">space_collide2</a>(&nbsp;).
These functions will then invoke the callback only for those pairs of geoms and/or spaces that are
likely to collide with each other, thus limiting the required number of <a href="#collide">collide</a>(&nbsp;)
calls (that with this approach are to be made within the callback).</p>
</div>
<div id="collide" class="ulist">
<ul>
<li>
<p><em>boolean</em>, {<a href="#contactpoint"><em>contactpoint</em></a>} = <strong>collide</strong>(<em><a href="#geom">geom</a><sub>1</sub></em>, <em><a href="#geom">geom</a><sub>2</sub></em>, <em>maxcontacts</em>, [<a href="#collideflags"><em>collideflags</em></a>])<br>
<span class="small">Returns <em>true</em> and the list of contact points (up to <em>maxcontacts</em>) if the two <a href="#geom">geom</a> objects intersect. Otherwise returns <em>false</em>.</span></p>
</li>
</ul>
</div>
<div id="space_collide" class="ulist">
<ul>
<li>
<p><strong>space_collide</strong>(<em><a href="#space">space</a></em>)<br>
<span class="small">Determines potential intersections between pairs and executes the <a href="#near_callback">near callback</a> accordingly.<br>
The callback is executed only for pairs of potentially intersecting geoms (internally, the same logic as in the <em>nearCallback</em>(&nbsp;) example from the <a href="http://ode.org/wiki/index.php?title=Manual#Collision_detection_2">ODE manual</a> is performed for intersecting spaces with other spaces or geoms) and would typically call <a href="#collide">collide</a>(&nbsp;) to generate contact points between the two objects, and possibly create <a href="#joint_contact">contact joints</a> between the associated bodies.</span></p>
</li>
</ul>
</div>
<div id="space_collide2" class="ulist">
<ul>
<li>
<p><strong>space_collide2</strong>(<em><a href="#space">space</a></em>)<br>
<strong>space_collide2</strong>(<em>obj<sub>1</sub></em>, <em>obj<sub>2</sub></em>)<br>
<span class="small"><em>obj<sub>1</sub></em>, <em>obj<sub>2</sub></em>: <a href="#geom">geom</a> or <a href="#space">space</a>.<br>
Determines potential intersections between pairs and executes the <a href="#near_callback">near callback</a> accordingly.<br>
The callback is executed even when one or both the objects is a space (no internal logic is performed), and would typically call <a href="#collide">collide</a>(&nbsp;) to generate contact points between the two objects (if they are both geoms), or recursively call <a href="#space_collide2">space_collide2</a>(&nbsp;) on them.</span></p>
</li>
</ul>
</div>
<div id="near_callback" class="ulist">
<ul>
<li>
<p><strong>set_near_callback</strong>([<em>func</em>])<br>
<span class="small">Sets the callback to be invoked by calls of <a href="#space_collide">space_collide</a>(&nbsp;) or <a href="#space_collide2">space_collide2</a>(&nbsp;).<br>
The callback is executed as <strong>func(obj<sub>1</sub>, obj<sub>2</sub>)</strong>, where the arguments are two potentially colliding <a href="#geom"><em>geom</em></a> or <a href="#space"><em>space</em></a> objects. If the callback is invoked by <a href="#space_collide">space_collide</a>(&nbsp;) calls, then <em>obj<sub>1</sub></em> and <em>obj<sub>2</sub></em> are both geoms, otherwise they may be either geoms or spaces.<br>
Any previously set callback is overridden. Passing <em>func=nil</em> unregisters the callback.</span></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="geom"><em>geom</em></h3>
<div class="paragraph">
<p><span class="small">Rfr:
<a href="http://ode.org/wiki/index.php?title=Manual#Geoms">Geoms</a> -
<a href="http://ode.org/wiki/index.php?title=Manual#General_geom_functions">General geom functions</a> -
<a href="http://ode.org/wiki/index.php?title=Manual#Geometry_Classes">Geometry Classes</a>.</span></p>
</div>
<div id="create_geom" class="paragraph">
<p>Geometric objects can be of the following subtypes:
<a href="#geom_sphere"><strong>sphere</strong></a>,
<a href="#geom_box"><strong>box</strong></a>,
<a href="#geom_plane"><strong>plane</strong></a>,
<a href="#geom_capsule"><strong>capsule</strong></a>,
<a href="#geom_cylinder"><strong>cylinder</strong></a>,
<a href="#geom_ray"><strong>ray</strong></a>,
<a href="#geom_convex"><strong>convex</strong></a>,
<a href="#geom_trimesh"><strong>trimesh</strong></a>, and
<a href="#geom_heightfield"><strong>heightfield</strong></a>.</p>
</div>
<div class="paragraph">
<p>Each subtype has its specialized contructors and methods, in addition to the following methods that are common to all subtypes:</p>
</div>
<div id="geom_destroy" class="ulist">
<ul>
<li>
<p><em>geom</em>:<strong>destroy</strong>( )<br>
<em>geom</em>:<strong>enable</strong>( )<br>
<em>geom</em>:<strong>disable</strong>( )<br>
<em>boolean</em> = <em>geom</em>:<strong>is_enabled</strong>( )<br>
<em>boolean</em> = <em>space</em>:<strong>is_space</strong>( )<br>
<em>geom</em>:<strong>set_body</strong>([<a href="#body"><em>body</em></a>])<br>
<em>geom</em>:<strong>set_position</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>geom</em>:<strong>set_rotation</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<em>geom</em>:<strong>set_quaternion</strong>(<a href="#quat"><em>quat</em></a>)<br>
<em>geom</em>:<strong>set_offset_position</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>geom</em>:<strong>set_offset_rotation</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<em>geom</em>:<strong>set_offset_quaternion</strong>(<a href="#quat"><em>quat</em></a>)<br>
<em>geom</em>:<strong>set_offset_world_position</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>geom</em>:<strong>set_offset_world_rotation</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<em>geom</em>:<strong>set_offset_world_quaternion</strong>(<a href="#quat"><em>quat</em></a>)<br>
<em>geom</em>:<strong>set_category_bits</strong>(<em>integer</em>)<br>
<em>geom</em>:<strong>set_collide_bits</strong>(<em>integer</em>)<br>
<em>geom</em>:<strong>clear_offset</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>boolean</em> = <em>geom</em>:<strong>is_offset</strong>( )<br>
<a href="#geomtype"><em>geomtype</em></a> = <em>geom</em>:<strong>get_type</strong>( )<br>
[<a href="#space"><em>space</em></a>] = <em>geom</em>:<strong>get_space</strong>( )<br>
[<a href="#body"><em>body</em></a>] = <em>geom</em>:<strong>get_body</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>get_position</strong>( )<br>
<a href="#mat3"><em>mat3</em></a> = <em>geom</em>:<strong>get_rotation</strong>( )<br>
<a href="#quat"><em>quat</em></a> = <em>geom</em>:<strong>get_quaternion</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>get_offset_position</strong>( )<br>
<a href="#mat3"><em>mat3</em></a> = <em>geom</em>:<strong>get_offset_rotation</strong>( )<br>
<a href="#quat"><em>quat</em></a> = <em>geom</em>:<strong>get_offset_quaternion</strong>( )<br>
<em>integer</em> = <em>geom</em>:<strong>get_category_bits</strong>( )<br>
<em>integer</em> = <em>geom</em>:<strong>get_collide_bits</strong>( )<br>
<a href="#box3"><em>box3</em></a> = <em>geom</em>:<strong>get_aabb</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>get_rel_point_pos</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>get_pos_rel_point</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>vector_to_world</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>vector_from_world</strong>(<a href="#vec3"><em>vec3</em></a>)<br></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="geom_sphere">geom_sphere</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Sphere_Class">Sphere Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_sphere</strong>([<a href="#space"><em>space</em></a>], <em>radius</em>)<br>
<em>geom</em>:<strong>set_radius</strong>(<em>radius</em>)<br>
<em>radius</em> = <em>geom</em>:<strong>get_radius</strong>( )<br>
<em>float</em> = <em>geom</em>:<strong>point_depth</strong>(<a href="#vec3"><em>vec3</em></a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_box">geom_box</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Box_Class">Box Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_box</strong>([<a href="#space"><em>space</em></a>], <em>length<sub>x</sub></em>, <em>length<sub>y</sub></em>, <em>length<sub>z</sub></em>)<br>
<em>geom</em>:<strong>set_lengths</strong>(<em>length<sub>x</sub></em>, <em>length<sub>y</sub></em>, <em>length<sub>z</sub></em>)<br>
<em>length<sub>x</sub></em>, <em>length<sub>y</sub></em>, <em>length<sub>z</sub></em> = <em>geom</em>:<strong>get_lengths</strong>( )<br>
<em>float</em> = <em>geom</em>:<strong>point_depth</strong>(<a href="#vec3"><em>vec3</em></a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_plane">geom_plane</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Plane_Class">Plane Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_plane</strong>([<a href="#space"><em>space</em></a>], <em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>)<br>
<em>geom</em>:<strong>set</strong>(<em>a</em>, <em>b</em>, <em>c</em>, <em>d</em>)<br>
<em>a</em>, <em>b</em>, <em>c</em>, <em>d</em> = <em>geom</em>:<strong>get</strong>( )<br>
<em>float</em> = <em>geom</em>:<strong>point_depth</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>n</em>, <em>p</em>, <em>q</em> = <em>geom</em>:<strong>basis</strong>( )<br>
<span class="small">The plane equation is <em>ax + by + cz = d</em>.<br>
<em>n</em>, <em>p</em>, <em>q</em>: <a href="#vec3">vec3</a> (orthonormal basis where <em>n</em> is the plane normal <em>(a, b, c)</em> and <em>q=n x p</em>).</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_capsule">geom_capsule</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Capsule_Class">Capsule Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_capsule</strong>([<a href="#space"><em>space</em></a>], <em>radius</em>, <em>length</em>)<br>
<em>geom</em>:<strong>set</strong>(<em>radius</em>, <em>length</em>)<br>
<em>radius</em>, <em>length</em> = <em>geom</em>:<strong>get</strong>( )<br>
<em>float</em> = <em>geom</em>:<strong>point_depth</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<span class="small">The capsule is composed of a z-aligned cylinder of the given <em>radius</em> and <em>length</em>, capped with two hemispheres of the same radius.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_cylinder">geom_cylinder</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Cylinder_Class">Cylinder Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_cylinder</strong>([<a href="#space"><em>space</em></a>], <em>radius</em>, <em>length</em>)<br>
<em>geom</em>:<strong>set</strong>(<em>radius</em>, <em>length</em>)<br>
<em>radius</em>, <em>length</em> = <em>geom</em>:<strong>get</strong>( )<br>
<span class="small">The cylinder is z-aligned.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_ray">geom_ray</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Ray_Class">Ray Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_ray</strong>([<a href="#space"><em>space</em></a>], <em>length</em>)<br>
<em>geom</em>:<strong>set</strong>(<em><a href="#vec3">vec3</a><sub>O</sub></em>, <em><a href="#vec3">vec3</a><sub>dir</sub></em>)<br>
<em>geom</em>:<strong>set_length</strong>(<em>length</em>)<br>
<em>geom</em>:<strong>set_first_contact</strong>(<em>boolean</em>)<br>
<em>geom</em>:<strong>set_backface_cull</strong>(<em>boolean</em>)<br>
<em>geom</em>:<strong>set_closest_hit</strong>(<em>boolean</em>)<br>
<em><a href="#vec3">vec3</a><sub>O</sub></em>, <em><a href="#vec3">vec3</a><sub>dir</sub></em> = <em>geom</em>:<strong>get</strong>( )<br>
<em>length</em> = <em>geom</em>:<strong>get_length</strong>( )<br>
<em>boolean</em> = <em>geom</em>:<strong>get_first_contact</strong>( )<br>
<em>boolean</em> = <em>geom</em>:<strong>get_backface_cull</strong>( )<br>
<em>boolean</em> = <em>geom</em>:<strong>get_closest_hit</strong>( )<br>
<span class="small"><em>O</em> is the origin of the ray, and <em>dir</em> its direction.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_convex">geom_convex</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Convex_Class">Convex Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_convex</strong>([<a href="#space"><em>space</em></a>], <em>planes</em>, <em>points</em>, <em>polygons</em>)<br>
<em>geom</em>:<strong>set</strong>(<em>planes</em>, <em>points</em>, <em>polygons</em>)<br>
<span class="small"><em>planes</em>: {<a href="#vec4">vec4</a>}.<br>
<em>points</em>: {<a href="#vec3">vec3</a>}.<br>
<em>polygons</em>: {{integer}} (each polygon is a list of 0-based integer indices).</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_trimesh">geom_trimesh</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Triangle_Mesh_Class">Triangle Mesh Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_trimesh</strong>([<a href="#space"><em>space</em></a>], <a href="#tmdata"><em>tmdata</em></a>)<br>
<em>geom</em>:<strong>set_data</strong>(<a href="#tmdata"><em>tmdata</em></a>)<br>
<em>geom</em>:<strong>set_last_transform</strong>(<a href="#mat4"><em>mat4</em></a>)<br>
<a href="#tmdata"><em>tmdata</em></a> = <em>geom</em>:<strong>get_data</strong>( )<br>
<a href="#mat4"><em>mat4</em></a> = <em>geom</em>:<strong>get_last_transform</strong>( )<br>
<em>integer</em> = <em>geom</em>:<strong>get_triangle_count</strong>( )<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>get_triangle</strong>(<em>index</em>)<br>
<a href="#vec3"><em>vec3</em></a> = <em>geom</em>:<strong>get_point</strong>(<em>index</em>, <em>float<sub>u</sub></em>, <em>float<sub>v</sub></em>)<br>
<span class="small"><em>index</em>: integer, 0-based index.</span></p>
</li>
</ul>
</div>
<div id="tmdata" class="paragraph">
<p>The purpose of <em>tmdata</em> objects, described here, is to hold vertex data for triangle meshes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>tmdata</em> = <strong>create_tmdata</strong>(<em>ptype</em>, <em>positions</em>, <em>indices</em>)<br>
<span class="small">Create a new <em>tmdata</em> object.<br>
<em>ptype</em>: '<em>float</em>'|'<em>double</em>'.<br>
<em>positions</em>: binary string (packed vertex positions, <em>length = 3 * <a href="#sizeof">sizeof</a>(ptype) * numvertices</em>).<br>
<em>indices</em>: binary string (packed element indices, <em>length = 3 * <a href="#sizeof">sizeof</a>('uint') * numtriangles</em>).<br>
(Rfr: dTriMeshDataID)</span></p>
</li>
<li>
<p><em>tmdata</em>:<strong>destroy</strong>( )<br>
<em>tmdata</em>:<strong>update</strong>( )<br>
<em>tmdata</em>:<strong>preprocess</strong>([<em>build_concave_edges</em>], [<em>build_face_angles</em>])<br>
<span class="small"><em>build_concave_edges</em>, <em>build_face_angles</em>: boolean.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="geom_heightfield">geom_heightfield</h4>
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Heightfield_Class">Heightfield Class</a></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#geom"><em>geom</em></a> = <strong>create_heightfield</strong>([<a href="#space"><em>space</em></a>], <a href="#hfdata"><em>hfdata</em></a>, <em>placeable</em>)<br>
<em>geom</em>:<strong>set_data</strong>(<a href="#hfdata"><em>hfdata</em></a>)<br>
<a href="#hfdata"><em>hfdata</em></a> = <em>geom</em>:<strong>get_data</strong>( )<br>
<span class="small"><em>placeable</em>: boolean.</span></p>
</li>
</ul>
</div>
<div id="hfdata" class="paragraph">
<p>The purpose of <em>hfdata</em> objects, described here, is to hold or generate heightfield data.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>hfdata</em> = <strong>create_hfdata</strong>(<em>datatype</em>, <em>data</em>, <em>width</em>, <em>depth</em>, <em>nw</em>, <em>nd</em>, <em>scale</em>, <em>offset</em>, <em>thickness</em>, <em>wrap</em>)<br>
<em>hfdata</em> = <strong>create_hfdata_with_callback</strong>(<em>func</em>, <em>width</em>, <em>depth</em>, <em>nw</em>, <em>nd</em>, <em>scale</em>, <em>offset</em>, <em>thickness</em>, <em>wrap</em>)<br>
<span class="small">Create a new <em>hfdata</em> object.<br>
<em>datatype</em>: '<em>uchar</em>' | '<em>short</em>' | '<em>float</em>' | '<em>double</em>'.<br>
<em>data</em>: binary string (packed height samples, length = <em>nw</em> * <em>nd</em> * <a href="#sizeof">sizeof</a>(<em>datatype</em>)).<br>
<em>width</em>, <em>height</em>: float (dimensions of the heightfield, in world units).<br>
<em>nw</em>, <em>nd</em>: integer (dimensions of the heightfield, in samples).<br>
<em>scale</em>, <em>offset</em>: float (vertical scale and offset to apply to the raw height data).<br>
<em>thickness</em>: float (thickness of an AABB added below the lowest point).<br>
<em>wrap</em>: boolean (true to tile the heightfield infinitely).<br>
The second version, instead of passing predefined data, specifies a callback (<em>func</em>)
which is invoked during the simulation as <strong>double=func(hfdata, x, z)</strong> and is expected
to compute and return the height value for the point at integer coordinates <em>(x, z)</em>, where <em>x</em> is along the width and <em>z</em> is along the height.<br>
(Rfr: dGeomHeightfieldDataBuild, dGeomHeightfieldDataBuildCallback).</span></p>
</li>
<li>
<p><em>hfdata</em>:<strong>destroy</strong>( )<br>
<em>hfdata</em>:<strong>set_bounds</strong>(<em>minheight</em>, <em>maxheight</em>)<br>
<span class="small"><em>minheight</em>, <em>maxheight</em>: double.</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="space"><em>space</em></h3>
<div class="paragraph">
<p><span class="small">Rfr:
<a href="http://ode.org/wiki/index.php?title=Manual#Spaces">Spaces</a> -
<a href="http://ode.org/wiki/index.php?title=Manual#Space_functions">Space Functions</a>.</span></p>
</div>
<div id="create_space" class="paragraph">
<p>Spaces can be of the following subtypes:
<a href="#space_simple"><strong>simple</strong></a>,
<a href="#space_hash"><strong>hash</strong></a>,
<a href="#space_quadtree"><strong>quadtree</strong></a>, and
<a href="#space_sap"><strong>sap</strong></a>.</p>
</div>
<div class="paragraph">
<p>Each subtype has its specialized contructors and methods, in addition to the following methods that are common to all subtypes:</p>
</div>
<div id="space_destroy" class="ulist">
<ul>
<li>
<p><em>space</em>:<strong>destroy</strong>( )<br>
<em>boolean</em> = <em>space</em>:<strong>is_space</strong>( )<br>
<em>space</em>:<strong>set_cleanup</strong>(<em>boolean</em>)<br>
<em>boolean</em> = <em>space</em>:<strong>get_cleanup</strong>( )<br>
<em>space</em>:<strong>set_sublevel</strong>(<em>integer</em>)<br>
<em>integer</em> = <em>space</em>:<strong>set_sublevel</strong>( )
<em>space</em>:<strong>add</strong>(<a href="#geom"><em>geom</em></a>)<br>
<em>space</em>:<strong>remove</strong>(<a href="#geom"><em>geom</em></a>)<br>
<em>boolean</em> = <em>space</em>:<strong>query</strong>(<a href="#geom"><em>geom</em></a>)<br>
<em>integer</em> = <em>space</em>:<strong>get_num_geoms</strong>( )<br>
<em>{<a href="#geom">geom</a>}</em> = <em>space</em>:<strong>get_geoms</strong>( )<br>
<a href="#geomtype"><em>geomtype</em></a> =  <em>space</em>:<strong>get_type</strong>( )</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="space_simple">space_simple</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#space"><em>space</em></a> = <strong>create_simple_space</strong>([<em><a href="#space">parentspace</a></em>])</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="space_hash">space_hash</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#space"><em>space</em></a> = <strong>create_hash_space</strong>([<em><a href="#space">parentspace</a></em>])<br>
<em>space</em>:<strong>set_levels</strong>(<em>min</em>, <em>max</em>)<br>
<em>min</em>, <em>max</em> = <em>space</em>:<strong>get_levels</strong>( )<br>
<span class="small"><em>min</em>, <em>max</em>: integer.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="space_quadtree">space_quadtree</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#space"><em>space</em></a> = <strong>create_quadtree_space</strong>([<em><a href="#space">parentspace</a></em>], <em>center</em>, <em>extents</em>, <em>depth</em>)<br>
<span class="small"><em>center</em>, <em>extents</em>: <a href="#vec3">vec3</a>.<br>
<em>depth</em>: integer.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="space_sap">space_sap</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#space"><em>space</em></a> = <strong>create_sap_space</strong>([<em><a href="#space">parentspace</a></em>], <a href="#axesorder"><em>axesorder</em></a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="massfun">Mass functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Mass_functions">Mass functions</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#mass"><em>mass</em></a> = <strong>mass</strong>([<em>total</em>], [<em>center</em>], [<em>inertia</em>])<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_sphere</strong>(<em>density</em>, <em>radius</em>, [<em>total</em>])<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_capsule</strong>(<em>density</em>, <a href="#direction"><em>direction</em></a>, <em>radius</em>, <em>length</em>, [<em>total</em>])<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_cylinder</strong>(<em>density</em>, <a href="#direction"><em>direction</em></a>, <em>radius</em>, <em>length</em>, [<em>total</em>])<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_box</strong>(<em>density</em>, <em>length<sub>x</sub></em>, <em>length<sub>y</sub></em>, <em>length<sub>z</sub></em>, [<em>total</em>])<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_trimesh</strong>(<em>density</em>, <a href="#geom"><em>geom</em></a>, [<em>total</em>])<br>
<span class="small">If <em>total=true</em>, the <em>density</em> parameter is interpreted as the total mass of the object.</span></p>
</li>
<li>
<p><em>boolean</em> = <strong>mass_check</strong>(<a href="#mass"><em>mass</em></a>)<br>
<em>boolean</em> = <em>mass</em>:<strong>check</strong>( )<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_adjust</strong>(<a href="#mass"><em>mass</em></a>, <em>total</em>)<br>
<a href="#mass"><em>mass</em></a> = <em>mass</em>:<strong>adjust</strong>(<em>total</em>)<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_translate</strong>(<a href="#mass"><em>mass</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<a href="#mass"><em>mass</em></a> = <em>mass</em>:<strong>translate</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_rotate</strong>(<a href="#mass"><em>mass</em></a>, <a href="#mat3"><em>mat3</em></a>)<br>
<a href="#mass"><em>mass</em></a> = <em>mass</em>:<strong>rotate</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<a href="#mass"><em>mass</em></a> = <strong>mass_add</strong>(<a href="#mass"><em>mass<sub>a</sub></em></a>, <a href="#mass"><em>mass<sub>b</sub></em></a>)<br>
<a href="#mass"><em>mass</em></a> = <em>mass<sub>a</sub></em>:<strong>add</strong>(<a href="#mass"><em>mass<sub>b</sub></em></a>)<br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mathfun">Math functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Math_functions">Math functions</a> - <a href="http://ode.org/wiki/index.php?title=Manual#Rotation_functions">Rotation functions</a>.</span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#vec3"><em>vec3</em></a> = <strong>v_normalize3</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_safe_normalize3</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_copy3</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_negate3</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_add3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_sub3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_scale3</strong>(<a href="#vec3"><em>vec3</em></a>, <em>float</em>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_add_scaled3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>, <em>float</em>, <em>float</em>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_add_three_scaled3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>, <em>float</em>, <em>float</em>, <em>float</em>)<br>
<em>float</em> = <strong>v_length3</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>float</em> = <strong>v_length_square3</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<em>float</em> = <strong>v_distance3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<em>float</em> = <strong>v_dot3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>v_cross3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<em>float</em> = <strong>v_max_difference3</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a> = <strong>plane_basis</strong>(<a href="#vec3"><em>vec3</em></a>)<br></p>
</li>
<li>
<p><a href="#vec4"><em>vec4</em></a> = <strong>v_normalize4</strong>(<a href="#vec4"><em>vec4</em></a>)<br>
<a href="#vec4"><em>vec4</em></a> = <strong>v_safe_normalize4</strong>(<a href="#vec4"><em>vec4</em></a>)<br>
<a href="#vec4"><em>vec4</em></a> = <strong>v_copy4</strong>(<a href="#vec4"><em>vec4</em></a>)<br>
<em>float</em> = <strong>v_max_difference4</strong>(<a href="#vec4"><em>vec4</em></a>, <a href="#vec4"><em>vec4</em></a>)<br></p>
</li>
<li>
<p><a href="#mat3"><em>mat3</em></a> = <strong>m_zero3</strong>( )<br>
<a href="#mat3"><em>mat3</em></a> = <strong>m_identity3</strong>( )<br>
<a href="#mat3"><em>mat3</em></a> = <strong>m_copy3</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<a href="#mat3"><em>mat3</em></a> = <strong>m_inverse3</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<em>float</em> = <strong>m_det3</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<em>float</em> = <strong>m_max_difference3</strong>(<a href="#mat3"><em>mat3</em></a>, <a href="#mat3"><em>mat3</em></a>)<br>
<a href="#vec3"><em>vec3</em></a> = <strong>m_get_column3</strong>(<a href="#mat3"><em>mat3</em></a>, <em>index</em>)<br></p>
</li>
<li>
<p><a href="#mat4"><em>mat4</em></a> = <strong>m_zero4</strong>( )<br>
<a href="#mat4"><em>mat4</em></a> = <strong>m_identity4</strong>( )<br>
<a href="#mat4"><em>mat4</em></a> = <strong>m_copy4</strong>(<a href="#mat4"><em>mat4</em></a>)<br>
<em>float</em> = <strong>m_max_difference4</strong>(<a href="#mat4"><em>mat4</em></a>, <a href="#mat4"><em>mat4</em></a>)<br></p>
</li>
<li>
<p><a href="#mat3"><em>mat3</em></a> = <strong>r_identity</strong>( )<br>
<a href="#mat3"><em>mat3</em></a> = <strong>r_from_axis_and_angle</strong>(<a href="#vec3"><em>vec3</em></a>, <em>angle</em>)<br>
<a href="#mat3"><em>mat3</em></a> = <strong>r_from_euler_angles</strong>(<em>phi</em>, <em>theta</em>, <em>psi</em>)<br>
<a href="#mat3"><em>mat3</em></a> = <strong>r_from_2_axes</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#vec3"><em>vec3</em></a>)<br>
<a href="#mat3"><em>mat3</em></a> = <strong>r_from_z_axis</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#mat3"><em>mat3</em></a> = <strong>r_orthogonalize</strong>(<a href="#vec3"><em>vec3</em></a>)<br>
<a href="#mat3"><em>mat3</em></a> = <strong>r_from_q</strong>(<a href="#quat"><em>quat</em></a>)<br></p>
</li>
<li>
<p><a href="#quat"><em>quat</em></a> = <strong>q_identity</strong>( )<br>
<a href="#quat"><em>quat</em></a> = <strong>q_from_axis_and_angle</strong>(<a href="#vec3"><em>vec3</em></a>, <em>angle</em>)<br>
<a href="#quat"><em>quat</em></a> = <strong>q_multiply0</strong>(<a href="#quat"><em>quat</em></a>, <a href="#quat"><em>quat</em></a>)<br>
<a href="#quat"><em>quat</em></a> = <strong>q_multiply1</strong>(<a href="#quat"><em>quat</em></a>, <a href="#quat"><em>quat</em></a>)<br>
<a href="#quat"><em>quat</em></a> = <strong>q_multiply2</strong>(<a href="#quat"><em>quat</em></a>, <a href="#quat"><em>quat</em></a>)<br>
<a href="#quat"><em>quat</em></a> = <strong>q_multiply3</strong>(<a href="#quat"><em>quat</em></a>, <a href="#quat"><em>quat</em></a>)<br>
<a href="#quat"><em>quat</em></a> = <strong>q_from_r</strong>(<a href="#mat3"><em>mat3</em></a>)<br>
<a href="#quat"><em>quat</em></a> = <strong>dq_from_w</strong>(<a href="#vec3"><em>vec3</em></a>, <a href="#quat"><em>quat</em></a>)<br></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="randomfun">Random functions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following utilities are all based on Lua&#8217;s native
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-math.random">math.random</a>(&nbsp;).
To seed them, use
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-math.randomseed">math.randomseed</a>(&nbsp;).</p>
</div>
<div id="random" class="ulist">
<ul>
<li>
<p><em>number</em> = <strong>random</strong>([<em>m</em>], [<em>n</em>])<br>
<span class="small">Same as <a href="http://www.lua.org/manual/5.3/manual.html#pdf-math.random">math.random</a>.</span></p>
</li>
<li>
<p><em>integer</em> = <strong>randomi</strong>([<em>n</em>, <em>m</em>])<br>
<span class="small">Return a random integer in the range [<em>n</em>, <em>m</em>] (default: [0, 1]).</span></p>
</li>
<li>
<p><em>float</em> = <strong>randomf</strong>([<em>a</em>, <em>b</em>])<br>
<span class="small">Return a random float in the range [<em>a</em>, <em>b</em>) (default: [0.0, 1.0)).</span></p>
</li>
<li>
<p><a href="#vec3"><em>vec3</em></a> = <strong>randomvec3</strong>([<em>a</em>])<br>
<a href="#vec4"><em>vec4</em></a> = <strong>randomvec4</strong>([<em>a</em>])<br>
<a href="#mat3"><em>mat3</em></a> = <strong>randommat3</strong>([<em>a</em>])<br>
<span class="small">Return a vector or matrix with random components in the range [<em>-a</em>, <em>a</em>) (default: [-1.0, 1.0)).</span></p>
</li>
<li>
<p><a href="#vec3"><em>vec3</em></a> = <strong>randomdir</strong>( )<br>
<span class="small">Returns a random unit direction vector.</span></p>
</li>
<li>
<p><a href="#mat3"><em>mat3</em></a> = <strong>randomrot</strong>( )<br>
<a href="#quat"><em>quat</em></a> = <strong>randomquat</strong>( )<br>
<span class="small">Returns a random rotation.</span></p>
</li>
<li>
<p><em>float</em> = <strong>randomsign</strong>( )<br>
<span class="small">Returns -1.0 or 1.0 with equal probability.</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tracing">Time and tracing functions</h2>
<div class="sectionbody">
<div id="trace_objects" class="ulist">
<ul>
<li>
<p><strong>trace_objects</strong>(<em>boolean</em>)<br>
<span class="small">Enable/disable tracing of objects creation and destruction (which by default
is disabled).<br>
If enabled, a printf is generated whenever an object is created or deleted,
indicating the object type and the value of its raw handle.</span></p>
</li>
</ul>
</div>
<div id="now" class="ulist">
<ul>
<li>
<p><em>t</em> = <strong>now</strong>(&nbsp;)<br>
<span class="small">Returns the current time in seconds.<br>
This is implemented with monotonic <em>clock_gettime(3)</em>, if available, or
with <em>gettimeofday(3)</em> otherwise.</span></p>
</li>
</ul>
</div>
<div id="since" class="ulist">
<ul>
<li>
<p><em>dt</em> = <strong>since</strong>(<em>t</em>)<br>
<span class="small">Returns the time in seconds elapsed since the time <em>t</em>,
previously obtained with the <a href="#now">now</a>(&nbsp;) function.</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="datatypes">Data types</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="small">Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#The_basic_data_types">The basic data types</a>.</span></p>
</div>
<div class="paragraph">
<p>In this document, the <em>float</em> and <em>integer</em> types denote Lua numbers, while other types
such as <em>boolean</em>, <em>string</em>, etc denote standard Lua types.
The type <em>number</em> denotes a Lua number that may be either a <em>float</em> or an <em>integer</em>.
Note that <em>float</em> here just means 'floating point' as opposed to 'integer', and does not imply
single-precision (all numbers are actually represented internally using double-precision).</p>
</div>
<div class="paragraph">
<p>Angles are always expressed in radians.</p>
</div>
<div class="paragraph">
<p>Vectors, matrices, quaternions, and bounding boxes are by default represented as Lua arrays containing
<em>float</em> elements (or arrays of arrays in the case of matrices). The meaning of the elements
thus depends on their position, as detailed below, and there is no syntactic sugar
such as <em>v.x</em> and <em>v.y</em> to access them (unless one enables <a href="#glmath_compat">GLMATH compatibility</a>).</p>
</div>
<div class="paragraph">
<p>A few other ODE structs are represented as string-indexed Lua tables, also described below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="vec3"></a>
<span class="small"><strong>vec3</strong> = {<em>x</em>, <em>y</em>, <em>z</em>}</span></p>
</li>
<li>
<p><a id="vec4"></a>
<span class="small"><strong>vec4</strong> = {<em>x</em>, <em>y</em>, <em>z</em>, <em>w</em>}</span></p>
</li>
<li>
<p><a id="mat3"></a>
<span class="small"><strong>mat3</strong> = {{<em>a<sub>11</sub></em>, <em>a<sub>12</sub></em>, <em>a<sub>13</sub></em>}, {<em>a<sub>21</sub></em>, <em>a<sub>22</sub></em>, <em>a<sub>23</sub></em>}, {<em>a<sub>31</sub></em>, <em>a<sub>32</sub></em>, <em>a<sub>33</sub></em>}}</span></p>
</li>
<li>
<p><a id="mat4"></a>
<span class="small"><strong>mat4</strong> = {{<em>a<sub>11</sub></em>, <em>a<sub>12</sub></em>, <em>a<sub>13</sub></em>, <em>a<sub>14</sub></em>}, {<em>a<sub>21</sub></em>, <em>a<sub>22</sub></em>, <em>a<sub>23</sub></em>, <em>a<sub>24</sub></em>}, {<em>a<sub>31</sub></em>, <em>a<sub>32</sub></em>, <em>a<sub>33</sub></em>, <em>a<sub>34</sub></em>}, {<em>a<sub>41</sub></em>, <em>a<sub>42</sub></em>, <em>a<sub>43</sub></em>, <em>a<sub>44</sub></em>}}</span></p>
</li>
<li>
<p><a id="quat"></a>
<span class="small"><strong>quat</strong> = {<em>w</em>, <em>x</em>, <em>y</em>, <em>z</em>}<br>
<em>w</em> is the scalar part and <em>(x, y, z)</em> is the vector part.</span></p>
</li>
<li>
<p><a id="box3"></a>
<span class="small"><strong>box3</strong> = {<em>x<sub>min</sub></em>, <em>x<sub>max</sub></em>, <em>y<sub>min</sub></em>, <em>y<sub>max</sub></em>, <em>z<sub>min</sub></em>, <em>z<sub>max</sub></em>}</span></p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p>Additional data structures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a id="mass"></a>
<span class="small"><strong>mass</strong> = {<br>
<em>total</em>: float,<br>
<em>center</em>: <a href="#vec3">vec3</a>,<br>
<em>inertia</em>: <a href="#mat3">mat3</a>,<br>
} (Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Mass_functions">dMass</a>)</span></p>
</li>
<li>
<p><a id="contactpoint"></a>
<span class="small"><strong>contactpoint</strong> = {<br>
<em>position</em>: <a href="#vec3">vec3</a>,<br>
<em>normal</em>: <a href="#vec3">vec3</a>,<br>
<em>depth</em>: float,<br>
<em>geom1</em>: <a href="#geom">geom</a>,<br>
<em>geom2</em>: <a href="#geom">geom</a>,<br>
<em>side1</em>: integer,<br>
<em>side2</em>: integer,<br>
} (Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Contact_points">dContactGeom</a>)</span></p>
</li>
<li>
<p><a id="surfaceparameters"></a>
<span class="small"><strong>surfaceparameters</strong> = {<br>
<em>mu</em>: float,<br>
<em>mu2</em>: float (opt.),<br>
<em>rho</em>: float (opt.),<br>
<em>rho2</em>: float (opt.),<br>
<em>rhoN</em>: float (opt.),<br>
<em>bounce</em>: float (opt.),<br>
<em>bounce_vel</em>: float (opt.),<br>
<em>soft_erp</em>: float (opt.),<br>
<em>soft_cfm</em>: float (opt.),<br>
<em>motion1</em>: float (opt.),<br>
<em>motion2</em>: float (opt.),<br>
<em>motionN</em>: float (opt.),<br>
<em>slip1</em>: float (opt.),<br>
<em>slip2</em>: float (opt.),<br>
<em>approx1</em>: boolean (opt., defaults to <em>false</em>),<br>
<em>approx1_1</em>: boolean (opt., defaults to <em>false</em>),<br>
<em>approx1_2</em>: boolean (opt., defaults to <em>false</em>),<br>
<em>approx1_N</em>: boolean (opt., defaults to <em>false</em>),<br>
} (Rfr: <a href="http://ode.org/wiki/index.php?title=Manual#Contact">dSurfaceParameters</a>)</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glmath_compat">GLMATH compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As an option, it is possible to instruct MoonODE to return vectors, matrices, quaternions, and boxes
as <a href="https://github.com/stetre/moonglmath">MoonGLMATH</a> types, instead of returning them as plain tables
(which is the default).
<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnote_4" title="View footnote.">4</a>]</sup></p>
</div>
<div class="paragraph">
<p>More precisely, when this functionality is enabled functions and methods will return values
of the MoonGLMATH types <strong>vec3</strong>, <strong>vec4</strong>, <strong>mat3</strong>, etc. instead of the MoonODE types with the same names.</p>
</div>
<div class="paragraph">
<p>(Notice that for function arguments nothing changes, since the above MoonGLMATH types are compatible
with the corresponding plain tables used by default, thus they can be used as function arguments in
any case).</p>
</div>
<div class="paragraph">
<p>Use the following functions to control GLMATH compatibility:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>glmath_compat</strong>(<em>boolean</em>)<br>
<span class="small">Enables/disables GLMATH compatibility (which by default is disabled).<br>
Enabling this functionality requires MoonGLMATH to be installed.</span></p>
</li>
<li>
<p><em>boolean</em> = <strong>is_glmath_compat</strong>( )<br>
<span class="small">Returns <em>true</em> if GLMATH compatibility is enabled.</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="datahandling">Data handling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes additional utilities that can be used to encode data from Lua
variables to binary strings and viceversa.</p>
</div>
<div id="datahandling_flatten" class="ulist">
<ul>
<li>
<p><em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em> = <strong>flatten</strong>(<em>table</em>)<br>
<span class="small">Flattens out the given <em>table</em> and returns the terminal elements in the order they are found.<br>
Similar to Lua&#8217;s
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-table.unpack">table.unpack</a>(&nbsp;), but it also unpacks
any nested table. Only the array part of the table and of nested tables is considered.</span></p>
</li>
</ul>
</div>
<div id="datahandling_flatten_table" class="ulist">
<ul>
<li>
<p>{<em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>} = <strong>flatten_table</strong>(<em>table</em>)<br>
<span class="small">Same as <a href="#datahandling_flatten">flatten</a>(&nbsp;), but returns the values in a flat table.
Unlike <a href="#datahandling_flatten">flatten</a>(&nbsp;), this function can be used also with very large tables.</span></p>
</li>
</ul>
</div>
<div id="datahandling_sizeof" class="ulist">
<ul>
<li>
<p><em>size</em> = <strong>sizeof</strong>(<a href="#type"><em>type</em></a>)<br>
<span class="small">Returns the size in bytes of the given <em>type</em>.</span></p>
</li>
</ul>
</div>
<div id="datahandling_pack" class="ulist">
<ul>
<li>
<p><em>data</em> = <strong>pack</strong>(<a href="#type"><em>type</em></a>, <em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>)<br>
<em>data</em> = <strong>pack</strong>(<a href="#type"><em>type</em></a>, <em>table</em>)<br>
<span class="small">Packs the numbers <em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>, encoding  them according to the given <em>type</em>, and returns the resulting binary string.<br>
The values may also be passed in a (possibly nested) table. Only the array part of the table (and of nested tables) is considered.</span></p>
</li>
</ul>
</div>
<div id="datahandling_unpack" class="ulist">
<ul>
<li>
<p>{<em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>} = <strong>unpack</strong>(<a href="#type"><em>type</em></a>, <em>data</em>)<br>
<span class="small">Unpacks the binary string <em>data</em>, interpreting it as a sequence of values of the given <em>type</em>,
and returns the extracted values in a flat table.<br>
The length of <em>data</em> must be a multiple of <a href="#datahandling_sizeof">sizeof</a>(<em>type</em>).</span></p>
</li>
</ul>
</div>
<div id="type" class="paragraph">
<p><span class="small"><strong>type</strong>: data types (and their corresponding C99 types)<br>
Values: '<em>char</em>' (int8_t), '<em>uchar</em>' (uint8_t), '<em>short</em>' (int16_t), '<em>ushort</em>' (uint16_t), '<em>int</em>' (int32_t), '<em>uint</em>' (uint32_t), '<em>long</em>' (int64_t), '<em>ulong</em>' (uint64_t), '<em>float</em>' (float), '<em>double</em>' (double).</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enums">Enums</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ODE enums are mapped in MoonODE to sets of string literals (as is customary in Lua).</p>
</div>
<div class="paragraph">
<p>Below are listed the enum types that are used in different places, together with the values they admit.
Other enum types are described together with the functions that use them, either as parameters or
as return values.</p>
</div>
<div id="amotormode" class="paragraph">
<p><span class="small"><strong>amotormode</strong>: '<em>user</em>', '<em>euler</em>'.</span></p>
</div>
<div id="axesorder" class="paragraph">
<p><span class="small"><strong>axesorder</strong>: '<em>xyz</em>', '<em>xzy</em>', '<em>yxz</em>', '<em>yzx</em>', '<em>zxy</em>', '<em>zyx</em>'.</span></p>
</div>
<div id="direction" class="paragraph">
<p><span class="small"><strong>direction</strong>: '<em>x</em>', '<em>y</em>', '<em>z</em>'.</span></p>
</div>
<div id="geomtype" class="paragraph">
<p><span class="small"><strong>geomtype</strong>: '<em>sphere</em>', '<em>box</em>', '<em>capsule</em>', '<em>cylinder</em>', '<em>plane</em>', '<em>ray</em>', '<em>convex</em>', '<em>geom transform</em>', '<em>trimesh</em>', '<em>heightfield</em>', '<em>simple space</em>', '<em>hash space</em>', '<em>sap space</em>', '<em>quad tree space</em>', '<em>user1</em>', '<em>user2</em>', '<em>user3</em>', '<em>user4</em>'.</span></p>
</div>
<div id="jointtype" class="paragraph">
<p><span class="small"><strong>jointtype</strong>: '<em>none</em>', '<em>ball</em>', '<em>hinge</em>', '<em>slider</em>', '<em>contact</em>', '<em>universal</em>', '<em>hinge2</em>', '<em>fixed</em>', '<em>null</em>', '<em>amotor</em>', '<em>lmotor</em>', '<em>plane2d</em>', '<em>pr</em>', '<em>pu</em>', '<em>piston</em>', '<em>dball</em>', '<em>dhinge</em>', '<em>transmission</em>'.</span></p>
</div>
<div id="param" class="paragraph">
<p><span class="small"><strong>param</strong>: '<em>lo stop</em>', '<em>hi stop</em>', '<em>vel</em>', '<em>lo vel</em>', '<em>hi vel</em>', '<em>fmax</em>', '<em>fudge factor</em>', '<em>bounce</em>', '<em>cfm</em>', '<em>stop erp</em>', '<em>stop cfm</em>', '<em>suspension erp</em>', '<em>suspension cfm</em>', '<em>erp</em>'.</span></p>
</div>
<div id="relativeorientation" class="paragraph">
<p><span class="small"><strong>relativeorientation</strong>: '<em>global frame</em>', '<em>first body</em>', '<em>second body</em>'.</span></p>
</div>
<div id="transmissionmode" class="paragraph">
<p><span class="small"><strong>transmissionmode</strong>: '<em>parallel axes</em>', '<em>intersecting axes</em>', '<em>chain drive</em>'.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="flags">Flags</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Flags in MoonODE functions and structs are always represented as plain integers,
and encoded in the same way as the corresponding flags in the ODE C API.</p>
</div>
<div class="paragraph">
<p>The <strong>ode</strong> table contains the XXX values, renamed as <strong>ode.XXX</strong>
(e.g. ode.CONTACTS_UNIMPORTANT, etc.).</p>
</div>
<div class="paragraph">
<p>For each flags type (see the list below), a utility function is also available to map
an integer code to a list of string literals, each corresponding to an individual bit set
in the code, and viceversa to encode an integer value from the individual bits given
as a list of string literals.
The generic definition of such functions is the following, where <strong>xxxflags</strong> stands for
<strong>collideflags</strong>, etc:</p>
</div>
<div id="xxxflags" class="ulist">
<ul>
<li>
<p><em>code</em> = <strong>xxxflags</strong>(<em>s1</em>, <em>s2</em>, <em>&#8230;&#8203;</em>)<br>
<em>s1</em>, <em>s2</em>, <em>&#8230;&#8203;</em> = <strong>xxxflags</strong>(<em>code</em>)<br>
<span class="small">Maps the integer <em>code</em> to/from the list of string values <em>s1</em>, <em>s2</em>, <em>&#8230;&#8203;</em>.</span></p>
</li>
</ul>
</div>
<div id="collideflags" class="paragraph">
<p><span class="small"><strong>collideflags</strong>: Values: '<em>contacts unimportant</em>'.</span></p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. This manual is written in <a href="http://www.methods.co.nz/asciidoc/">AsciiDoc</a>, rendered with <a href="http://asciidoctor.org/">AsciiDoctor</a> and a CSS from the <a href="https://github.com/asciidoctor/asciidoctor-stylesheet-factory">AsciiDoctor Stylesheet Factory</a>.
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. Objects are anchored to the Lua registry at their creation, so even if the script does not have references to an object, a reference always exists on the registry and this prevents the GC to collect it.
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. It is good practice to not leave invalid references to objects around, because they prevent the GC to collect the memory associated with the userdata.
</div>
<div class="footnote" id="_footnote_4">
<a href="#_footnoteref_4">4</a>. MoonGLMATH types are convenient because they support operators and synctatic sugar, but I chose not to impose their use because one may want to use an alternative math library, or none at all.
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1<br>
Last updated 2021-09-29 18:56:53 CEST
</div>
</div>
</body>
</html>